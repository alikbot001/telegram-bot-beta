import { Telegraf, Markup } from 'telegraf';
import { Low, JSONFile } from 'lowdb';
import schedule from 'node-schedule';
import dayjs from 'dayjs';

// --- –í–∞—à —Ç–æ–∫–µ–Ω ---
const BOT_TOKEN = '7804238972:AAEeZ-Dgjj1dBbjdUsoFn93R8O08B1ja3ig';

// --- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã (–ø—Ä–∏–º–µ—Ä) ---
const MOTIVATION_QUOTES = [
    "–î–µ–ª–∞–π —Å–µ–≥–æ–¥–Ω—è —Ç–æ, —á—Ç–æ –¥—Ä—É–≥–∏–µ –Ω–µ —Ö–æ—Ç—è—Ç ‚Äî –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—à—å –∂–∏—Ç—å —Ç–∞–∫, –∫–∞–∫ –¥—Ä—É–≥–∏–µ –Ω–µ –º–æ–≥—É—Ç. ‚Äî –î–∂–µ—Ä—Ä–∏ –†–∞–π—Å",
    "–ü—Ä–æ—Å—ã–ø–∞–π—Å—è —Å –º—ã—Å–ª—å—é, —á—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á—å—é-—Ç–æ –∂–∏–∑–Ω—å. –•–æ—Ç—è –±—ã —Å–≤–æ—é. ‚Äî –†–æ–π –ë–µ–Ω–Ω–µ—Ç",
    "–ï—Å–ª–∏ –Ω–µ —Å–µ–π—á–∞—Å, —Ç–æ –∫–æ–≥–¥–∞? ‚Äî –≠–º–º–∞ –ì–æ–ª—å–¥–º–∞–Ω",
    "–ù–µ –∂–¥–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è ‚Äî –ø—Ä–∏–¥–∏ –∏ –≤–æ–∑—å–º–∏ –µ–≥–æ. ‚Äî –ß–∞–∫ –ü–∞–ª–∞–Ω–∏–∫",
    "–°–¥–µ–ª–∞–π —à–∞–≥, –∏ –¥–æ—Ä–æ–≥–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–∞–º–∞. ‚Äî –î–∂–æ–Ω –õ–æ–∫–∫",
    "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ 10% —É–¥–∞—á–∏ –∏ 90% –ø–æ—Ç–µ–Ω–∏—è. ‚Äî –¢–æ–º–∞—Å –≠–¥–∏—Å–æ–Ω",
    "–¢—ã –Ω–µ —Å–º–æ–∂–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å, –ø–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏—à—å —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—à—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. ‚Äî –î–∂–æ–Ω –ú–∞–∫—Å–≤–µ–ª–ª",
    "–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –Ω–∞—á–∞—Ç—å ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –≥–æ–≤–æ—Ä–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –¥–µ–ª–∞—Ç—å. ‚Äî –£–æ–ª—Ç –î–∏—Å–Ω–µ–π",
    "–ï—Å–ª–∏ —Ç–µ–±–µ —Ç—è–∂–µ–ª–æ ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã —Ä–∞—Å—Ç–µ—à—å. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–ú–µ—á—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø–æ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—à—å —Ç—ã. ‚Äî –°—Ç–∏–≤–µ–Ω –ö–æ–≤–∏",
    "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ —á–∏—Å—Ç—ã–π –ª–∏—Å—Ç. –ß—Ç–æ —Ç—ã –Ω–∞ –Ω–µ–º –Ω–∞–ø–∏—à–µ—à—å? ‚Äî –ë—Ä—é—Å –õ–∏",
    "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è ‚Äî –ø—Ä–∏–≤—ã—á–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è. ‚Äî –ó–∏–≥ –ó–∏–≥–ª–∞—Ä",
    "–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π —Å–≤–æ—é –∂–∏–∑–Ω—å –Ω–∞ –ø–æ—Ç–æ–º. ¬´–ü–æ—Ç–æ–º¬ª ‚Äî —ç—Ç–æ –ª–æ–≤—É—à–∫–∞. ‚Äî –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í–∏–Ω—á–∏",
    "–ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–∏—à—å –≤ —Å–µ–±—è, –Ω–∞–π–¥–∏ —Ç–æ–≥–æ, –∫—Ç–æ –≤–µ—Ä–∏—Ç, –∏ –¥–æ–∫–∞–∂–∏ –µ–º—É –ø—Ä–∞–≤–æ—Ç—É. ‚Äî –ì–µ–Ω—Ä–∏ –§–æ—Ä–¥",
    "–†–∞–±–æ—Ç–∞–π –º–æ–ª—á–∞. –ü—É—Å—Ç—å —É—Å–ø–µ—Ö –±—É–¥–µ—Ç —Ç–≤–æ–∏–º —à—É–º–æ–º. ‚Äî –§—Ä—ç–Ω–∫ –û—É—à–µ–Ω",
    "–°–ª–æ–∂–Ω–æ–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º, –∫–æ–≥–¥–∞ —Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å. ‚Äî –ö–æ–Ω—Ñ—É—Ü–∏–π",
    "–¢—ã –ª–∏–±–æ –Ω–∞—Ö–æ–¥–∏—à—å –ø—É—Ç—å, –ª–∏–±–æ —Å–æ–∑–¥–∞–µ—à—å –µ–≥–æ. ‚Äî –ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç",
    "–ù–µ –±–æ–π—Å—è –¥–µ–ª–∞—Ç—å —Ç–æ, —á—Ç–æ –Ω–µ —É–º–µ–µ—à—å. –ö–æ–≤—á–µ–≥ –ø–æ—Å—Ç—Ä–æ–∏–ª –ª—é–±–∏—Ç–µ–ª—å, ¬´–¢–∏—Ç–∞–Ω–∏–∫¬ª ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã. ‚Äî –î—ç–π–≤ –ë–µ—Ä–≤–∏—Å",
    "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É —Ü–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–°–∫–æ—Ä–æ—Å—Ç—å –Ω–µ –≤–∞–∂–Ω–∞ ‚Äî –≤–∞–∂–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ. ‚Äî –î–∞–ª–∞–π-–ª–∞–º–∞",
    "–ù–µ –∂–¥–∏ –∏–¥–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π ‚Äî —Å–æ–∑–¥–∞–≤–∞–π –∏—Ö. ‚Äî –î–∂–æ—Ä–¥–∂ –ë–µ—Ä–Ω–∞—Ä–¥ –®–æ—É",
    "–ï—Å–ª–∏ —Ç—ã –Ω–µ –≥–æ—Ç–æ–≤ —Ä–∏—Å–∫–Ω—É—Ç—å –æ–±—ã—á–Ω—ã–º, –ø—Ä–∏–¥–µ—Ç—Å—è –¥–æ–≤–æ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –∑–∞—É—Ä—è–¥–Ω—ã–º. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "¬´–ó–∞–≤—Ç—Ä–∞¬ª ‚Äî —Å–∞–º–æ–µ –æ–ø–∞—Å–Ω–æ–µ —Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–∞—Ä–µ —É—Å–ø–µ—Ö–∞. ‚Äî –ì—Ä–∞–Ω—Ç –ö–∞—Ä–¥–æ–Ω",
    "–ù–µ –≥–æ–≤–æ—Ä–∏ ¬´—É –º–µ–Ω—è –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏¬ª. –£ —Ç–µ–±—è —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ —á–∞—Å–æ–≤ –≤ —Å—É—Ç–∫–∞—Ö, —Å–∫–æ–ª—å–∫–æ —É –ë–µ–π–æ–Ω—Å–µ. ‚Äî –ö—ç—Ç—Ä–∏–Ω –•–µ–ø–±–µ—Ä–Ω",
    "–¢—Ä—É–¥–Ω–æ–µ ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤–µ—á–µ–Ω. ‚Äî –ê–ª—å–±–µ—Ä—Ç –≠–π–Ω—à—Ç–µ–π–Ω",
    "–ï—Å–ª–∏ —Ç—ã –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—à—å —Å–≤–æ–∏–º –¥–Ω–µ–º, –∏–º —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π. ‚Äî –î–∂–∏–º –ö—ç—Ç–∫–∞—Ä—Ç",
    "–°–¥–µ–ª–∞–π —Ö–æ—Ç—è –±—ã —á—Ç–æ-—Ç–æ —Å–µ–≥–æ–¥–Ω—è ‚Äî —Ç–≤–æ–µ –±—É–¥—É—â–µ–µ ¬´—è¬ª —Å–∫–∞–∂–µ—Ç —Ç–µ–±–µ —Å–ø–∞—Å–∏–±–æ. ‚Äî –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π",
    "–ë–æ–ª—å —Å–≥–æ—Ä–∞–µ—Ç –≤ –æ–≥–Ω–µ –¥–µ–π—Å—Ç–≤–∏—è. ‚Äî –î—ç–Ω –ö–µ–Ω–Ω–µ–¥–∏",
    "–¢—ã –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª, –ø–æ–∫–∞ –Ω–µ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –ø–æ–ø—ã—Ç–æ–∫. ‚Äî –ú–∞–π–∫–ª –î–∂–æ—Ä–¥–∞–Ω",
    "–ù–µ –∏—â–∏ —á–∞—Å—ã ‚Äî —Å–æ–∑–¥–∞–≤–∞–π –∏—Ö. ‚Äî –ü–∞–±–ª–æ –ü–∏–∫–∞—Å—Å–æ",
    "–î–µ–π—Å—Ç–≤–∏–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ —É—Å–ø–µ—Ö–∞. ‚Äî –¢–æ–Ω–∏ –†–æ–±–±–∏–Ω—Å",
    "–õ–µ–Ω—å ‚Äî —ç—Ç–æ –ø—Ä–∏–≤—ã—á–∫–∞ –æ—Ç–¥—ã—Ö–∞—Ç—å –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —É—Å—Ç–∞–Ω–µ—à—å. ‚Äî –ñ—é–ª—å –†–µ–Ω–∞—Ä",
    "–°—Ç—Ä–∞—Ö –∏—Å—á–µ–∑–∞–µ—Ç, –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏–µ. ‚Äî –£–∏–ª—å—è–º –î–∂–µ–π–º—Å",
    "–ù–µ –∂–¥–∏, –ø–æ–∫–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è —à—Ç–æ—Ä–º ‚Äî —É—á–∏—Å—å —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å –ø–æ–¥ –¥–æ–∂–¥–µ–º. ‚Äî –í–∏–≤–∏–∞–Ω –ì—Ä–∏–Ω",
    "–¢—ã –º–æ–∂–µ—à—å –∂–¥–∞—Ç—å –≥–æ–¥–∞–º–∏ ¬´–ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞¬ª –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –∑–∞ 5 –º–∏–Ω—É—Ç. ‚Äî –ì—ç—Ä–∏ –í–∞–π–Ω–µ—Ä—á—É–∫",
    "–ù–∏–∫—Ç–æ –Ω–µ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞ –≤–µ—Ä—à–∏–Ω—É, —Ç–∞—Å–∫–∞—è –∑–∞ —Å–æ–±–æ–π –∫–∞–º–Ω–∏ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π. ‚Äî –ë—Ä—é—Å –õ–∏",
    "–ï—Å–ª–∏ —Ç–µ–±–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –¥–æ—Ä–æ–≥–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∏–¥–µ—à—å, –Ω–∞—á–Ω–∏ –ø—Ä–æ–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä—É–≥—É—é. ‚Äî –î–æ–ª–ª–∏ –ü–∞—Ä—Ç–æ–Ω",
    "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å. –≠—Ç–æ –≤—ã–±–æ—Ä. ‚Äî –°—Ç–∏–≤–µ–Ω –ö–æ–≤–∏",
    "–°–µ–∫—Ä–µ—Ç —É—Å–ø–µ—Ö–∞ ‚Äî –Ω–∞—á–∞—Ç—å, –ø–æ–∫–∞ –¥—Ä—É–≥–∏–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç. ‚Äî –ú–∞—Ä–∫ –¢–≤–µ–Ω",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å –≤–µ–ª–∏–∫–∏–º, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –Ω–æ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –≤–µ–ª–∏–∫–∏–º. ‚Äî –ó–∏–≥ –ó–∏–≥–ª–∞—Ä",
    "–ù–µ —Å–º–æ—Ç—Ä–∏ –Ω–∞ —á–∞—Å—ã ‚Äî –¥–µ–ª–∞–π —Ç–æ, —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç: –∏–¥–∏ –≤–ø–µ—Ä–µ–¥. ‚Äî –°—ç–º –õ–µ–≤–µ–Ω—Å–æ–Ω",
    "–†–∞–±–æ—Ç–∞–π, –ø–æ–∫–∞ –¥—Ä—É–≥–∏–µ —Å–ø—è—Ç. –£—á–∏—Å—å, –ø–æ–∫–∞ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–≤–ª–µ–∫–∞—é—Ç—Å—è. –ì–æ—Ç–æ–≤—å—Å—è, –ø–æ–∫–∞ –¥—Ä—É–≥–∏–µ –∏–≥—Ä–∞—é—Ç. –ú–µ—á—Ç–∞–π, –ø–æ–∫–∞ –¥—Ä—É–≥–∏–µ –∂–µ–ª–∞—é—Ç. ‚Äî –£–∏–ª—å—è–º –ê—Ä—Ç—É—Ä –£–æ—Ä–¥",
    "–ï—Å–ª–∏ —Ç—ã –Ω–µ –≥–æ—Ç–æ–≤ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è ‚Äî –Ω–µ –∂–¥–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–°–¥–µ–ª–∞–π –ø–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî —Ç—ã –Ω–µ —É–≤–∏–¥–∏—à—å –≤—Å—é –ª–µ—Å—Ç–Ω–∏—Ü—É, –ø—Ä–æ—Å—Ç–æ –Ω–∞—á–Ω–∏. ‚Äî –ú–∞—Ä—Ç–∏–Ω –õ—é—Ç–µ—Ä –ö–∏–Ω–≥",
    "–ë—É–¥—É—â–µ–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è, –∞ –Ω–µ –∑–∞–≤—Ç—Ä–∞. ‚Äî –ü–∞—É–ª–æ –ö–æ—ç–ª—å–æ",
    "–ù–µ –∂–¥–∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ ‚Äî —Å–æ–∑–¥–∞–≤–∞–π –µ–µ. ‚Äî –ì—Ä–∞–Ω—Ç –ö–∞—Ä–¥–æ–Ω",
    "–¢—ã –Ω–µ –ø–æ–¥–Ω–∏–º–∞–µ—à—å—Å—è –¥–æ —É—Ä–æ–≤–Ω—è —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π ‚Äî –ø–∞–¥–∞–µ—à—å –¥–æ —É—Ä–æ–≤–Ω—è —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π. ‚Äî –î–∂–µ–π–º—Å –ö–ª–∏—Ä",
    "–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å ¬´–ø–æ—Ç–æ–º¬ª, —Ç–≤–æ–∏ –º–µ—á—Ç—ã —É–º–µ–Ω—å—à–∞—é—Ç—Å—è. ‚Äî –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π",
    "–î–µ–π—Å—Ç–≤–∏–µ ‚Äî —ç—Ç–æ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ –æ—Ç —Å—Ç—Ä–∞—Ö–∞. ‚Äî –î—ç–≤–∏–¥ –î–∂. –®–≤–∞—Ä—Ü",
    "–ï—Å–ª–∏ –Ω–µ —Ç—ã, —Ç–æ –∫—Ç–æ? –ï—Å–ª–∏ –Ω–µ —Å–µ–π—á–∞—Å, —Ç–æ –∫–æ–≥–¥–∞? ‚Äî –•–∏–ª–ª–µ–ª—å –°—Ç–∞—Ä—à–∏–π",
    "–¢–≤–æ–π –º–æ–∑–≥ ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –ù–∞—É—á–∏—Å—å –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –∏–ª–∏ –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–±—è. ‚Äî –î–∂–∏–º –ö–≤–∏–∫",
    "–°–∞–º—ã–π –¥–æ–ª–≥–∏–π –ø—É—Ç—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞. –°–¥–µ–ª–∞–π –µ–≥–æ. ‚Äî –õ–∞–æ-–¶–∑—ã",
    // –†–æ–∫–∫–∏
    "–ú–∏—Ä –Ω–µ –±—É–¥–µ—Ç —Å–∏—è—Ç—å —Ç–µ–±–µ –≤ –ª–∏—Ü–æ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ç—ã –¥–æ–±—Ä—ã–π –ø–∞—Ä–µ–Ω—å. –£–º–µ–π –±–∏—Ç—å! (–†–æ–∫–∫–∏ –ë–∞–ª—å–±–æ–∞, ¬´–†–æ–∫–∫–∏¬ª)",
    "–ù–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ —Å–∏–ª—å–Ω–æ —Ç—ã —É–¥–∞—Ä–∏—à—å. –í–∞–∂–Ω–æ, –∫–∞–∫ —Å–∏–ª—å–Ω–æ —Ç–µ–±—è —É–¥–∞—Ä—è—Ç ‚Äî –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–¥—Ç–∏. (¬´–†–æ–∫–∫–∏¬ª)",
    "–ï—Å–ª–∏ —Ç—ã –∑–Ω–∞–µ—à—å, —á–µ–≥–æ —Å—Ç–æ–∏—à—å, –∏–¥–∏ –∏ –≤–æ–∑—å–º–∏ —ç—Ç–æ! –ù–æ –±—É–¥—å –≥–æ—Ç–æ–≤ –ø–æ–ª—É—á–∞—Ç—å —É–¥–∞—Ä—ã. (¬´–†–æ–∫–∫–∏¬ª)",
    // –ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±
    "–¢—ã ‚Äî –Ω–µ —Ç–≤–æ—è —Ä–∞–±–æ—Ç–∞. –ù–µ —Ç–≤–æ–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—á–µ—Ç—É. –ù–µ —Ç–≤–æ—è –º–∞—à–∏–Ω–∞. –¢—ã ‚Äî –Ω–µ —Ç–≤–æ—ë –¥–µ—Ä—å–º–æ–≤–æ–µ —Ö–∞–∫–∏. (–¢–∞–π–ª–µ—Ä –î—ë—Ä–¥–µ–Ω, ¬´–ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±¬ª)",
    "–ü–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Å–≤–æ–±–æ–¥–µ–Ω –ª–∏—à—å —Ç–æ—Ç, –∫—Ç–æ –ø–æ—Ç–µ—Ä—è–ª –≤—Å—ë. (¬´–ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±¬ª)",
    "–ë–µ–∑ –∂–µ—Ä—Ç–≤ –∏ –±–æ–ª–∏ —Ç—ã –Ω–µ —Å—Ç–∞–Ω–µ—à—å —Ç–µ–º, –∫–µ–º —Ö–æ—á–µ—à—å –±—ã—Ç—å. (¬´–ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±¬ª)",
    // –í–æ–ª–∫ —Å –£–æ–ª–ª-—Å—Ç—Ä–∏—Ç
    "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—â—å, —Å—Ç–æ—è—â–∞—è –º–µ–∂–¥—É —Ç–æ–±–æ–π –∏ —Ç–≤–æ–µ–π —Ü–µ–ª—å—é ‚Äî —ç—Ç–æ —Ç–∞ —Ö–µ—Ä–Ω—è, –∫–æ—Ç–æ—Ä—É—é —Ç—ã —Å–∞–º —Å–µ–±–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å. (–î–∂–æ—Ä–¥–∞–Ω –ë–µ–ª—Ñ–æ—Ä—Ç, ¬´–í–æ–ª–∫ —Å –£–æ–ª–ª-—Å—Ç—Ä–∏—Ç¬ª)",
    "–ë—É–¥—å –≥–æ–ª–æ–¥–Ω—ã–º. –û—Å—Ç–∞–≤–∞–π—Å—è –≥–æ–ª–æ–¥–Ω—ã–º. (¬´–í–æ–ª–∫ —Å –£–æ–ª–ª-—Å—Ç—Ä–∏—Ç¬ª)",
    // –ì–ª–∞–¥–∏–∞—Ç–æ—Ä
    "–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º –≤ –∂–∏–∑–Ω–∏? –≠—Ö–æ –Ω–∞—à–∏—Ö –ø–æ—Å—Ç—É–ø–∫–æ–≤ –∑–≤—É—á–∏—Ç –≤ –≤–µ—á–Ω–æ—Å—Ç–∏! (–ú–∞–∫—Å–∏–º—É—Å, ¬´–ì–ª–∞–¥–∏–∞—Ç–æ—Ä¬ª)",
    "–°–º–µ—Ä—Ç—å —É–ª—ã–±–∞–µ—Ç—Å—è –≤—Å–µ–º. –õ—é–¥–∏ –º–æ–≥—É—Ç –ª–∏—à—å —É–ª—ã–±–Ω—É—Ç—å—Å—è –µ–π –≤ –æ—Ç–≤–µ—Ç. (¬´–ì–ª–∞–¥–∏–∞—Ç–æ—Ä¬ª)",
    // –ù–∞—á–∞–ª–æ
    "–¢—ã –¥–æ–ª–∂–µ–Ω –ø–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–±—è –∂–¥—ë—Ç —É—Å–ø–µ—Ö. –¢—ã —É–∂–µ –Ω–∞ –∫—Ä–∞—é, –Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–æ–∏–≥—Ä–∞—Ç—å ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –ø—ã—Ç–∞—Ç—å—Å—è. (–ö–æ–±–±, ¬´–ù–∞—á–∞–ª–æ¬ª)",
    // –§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø
    "–ñ–∏–∑–Ω—å ‚Äî –∫–∞–∫ –∫–æ—Ä–æ–±–∫–∞ –∫–æ–Ω—Ñ–µ—Ç. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–µ–±–µ –ø–æ–ø–∞–¥—ë—Ç—Å—è. (–§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø, ¬´–§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø¬ª)",
    "–ë–µ–≥–∏, –§–æ—Ä—Ä–µ—Å—Ç, –±–µ–≥–∏! (¬´–§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø¬ª)",
    // –¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å
    "–ó–∞—á–µ–º –º—ã –ø–∞–¥–∞–µ–º? –ß—Ç–æ–±—ã –Ω–∞—É—á–∏—Ç—å—Å—è –ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è. (–ê–ª—å—Ñ—Ä–µ–¥, ¬´–¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å¬ª)",
    "–¢—ã –ª–∏–±–æ —É–º–∏—Ä–∞–µ—à—å –≥–µ—Ä–æ–µ–º, –ª–∏–±–æ –∂–∏–≤—ë—à—å —Ç–∞–∫ –¥–æ–ª–≥–æ, —á—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –∑–ª–æ–¥–µ–µ–º. (–•–∞—Ä–≤–∏ –î–µ–Ω—Ç, ¬´–¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å¬ª)",
    // –û–±—â–µ—Å—Ç–≤–æ –º—ë—Ä—Ç–≤—ã—Ö –ø–æ—ç—Ç–æ–≤
    "Carpe diem! –õ–æ–≤–∏ –º–æ–º–µ–Ω—Ç, –º–∞–ª—å—á–∏–∫–∏! –î–µ–ª–∞–π—Ç–µ —Å–≤–æ—é –∂–∏–∑–Ω—å –Ω–µ–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω–æ–π! (–î–∂–æ–Ω –ö–∏—Ç–∏–Ω–≥, ¬´–û–±—â–µ—Å—Ç–≤–æ –º—ë—Ä—Ç–≤—ã—Ö –ø–æ—ç—Ç–æ–≤¬ª)",
    // –ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü
    "–î–µ—Ä–∂–∏ –¥—Ä—É–∑–µ–π –±–ª–∏–∑–∫–æ, –∞ –≤—Ä–∞–≥–æ–≤ –µ—â—ë –±–ª–∏–∂–µ. (–ú–∞–π–∫–ª –ö–æ—Ä–ª–µ–æ–Ω–µ, ¬´–ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü¬ª)",
    "–ë–æ–ª—å—à–∞—è –≤–ª–∞—Å—Ç—å –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –±–æ–ª—å—à–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é. (¬´–ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü¬ª)",
    // –ë–µ–≥—É—â–∏–π –ø–æ –ª–µ–∑–≤–∏—é
    "–Ø –≤–∏–¥–µ–ª —Ç–∞–∫–æ–µ, –≤–æ —á—Ç–æ –≤—ã, –ª—é–¥–∏, –Ω–µ –ø–æ–≤–µ—Ä–∏—Ç–µ‚Ä¶ (–†–æ–π –ë–∞—Ç—Ç–∏, ¬´–ë–µ–≥—É—â–∏–π –ø–æ –ª–µ–∑–≤–∏—é¬ª)",
    "–í—Ä–µ–º—è —É–º–∏—Ä–∞—Ç—å. (–†–æ–π –ë–∞—Ç—Ç–∏, ¬´–ë–µ–≥—É—â–∏–π –ø–æ –ª–µ–∑–≤–∏—é¬ª)"
];

// –ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–µ —Ü–∏—Ç–∞—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ —Å–æ–±–æ–π –∏ —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é
MOTIVATION_QUOTES.push(
    "–ü–æ–±–µ–¥–∞ ‚Äî —ç—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å. –≠—Ç–æ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ç—Ä—É–¥, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –ª—é–±–æ–≤—å –∫ —Ç–æ–º—É, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å. ‚Äî –ü–µ–ª–µ",
    "–¢—ã –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –ª—É—á—à–µ –≤ –æ–¥–∏–Ω –¥–µ–Ω—å ‚Äî —Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. ‚Äî –î–∂–æ—Ä–¥–∞–Ω –ë–µ–ª—Ñ–æ—Ä—Ç",
    "–ï—Å–ª–∏ —Ç—ã –Ω–µ –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–æ–±–æ–π, –∑–∞—á–µ–º –∂–¥–∞—Ç—å, —á—Ç–æ –∂–∏–∑–Ω—å –∏–∑–º–µ–Ω–∏—Ç—Å—è? ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —Å–æ–ø–µ—Ä–Ω–∏–∫ ‚Äî –Ω–µ –¥—Ä—É–≥–∏–µ, –∞ —Ç—ã –≤—á–µ—Ä–∞—à–Ω–∏–π. ‚Äî –ë—Ä—é—Å –õ–∏",
    "–ï—Å–ª–∏ —Ç–µ–±–µ –ª–µ–≥–∫–æ ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã –Ω–µ —Ä–∞—Å—Ç–µ—à—å. ‚Äî –ê—Ä–Ω–æ–ª—å–¥ –®–≤–∞—Ä—Ü–µ–Ω–µ–≥–≥–µ—Ä",
    "–ë–æ–ª—å ‚Äî —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ. –ì–æ—Ä–¥–æ—Å—Ç—å –∑–∞ —Å–µ–±—è ‚Äî –Ω–∞–≤—Å–µ–≥–¥–∞.",
    "–¢—ã ‚Äî –∞–≤—Ç–æ—Ä —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏. –ù–µ –∂–¥–∏, –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ –Ω–∞–ø–∏—à–µ—Ç –∑–∞ —Ç–µ–±—è. ‚Äî –î–∂–æ—Ä–¥–∂ –ë–µ—Ä–Ω–∞—Ä–¥ –®–æ—É",
    "–ù–µ –∏—â–∏ –≤–∏–Ω–æ–≤–∞—Ç—ã—Ö. –ò—â–∏ —Ä–µ—à–µ–Ω–∏—è. ‚Äî –ì–µ–Ω—Ä–∏ –§–æ—Ä–¥",
    "–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ 10% —Ç–æ–≥–æ, —á—Ç–æ —Å —Ç–æ–±–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∏ 90% —Ç–æ–≥–æ, –∫–∞–∫ —Ç—ã –Ω–∞ —ç—Ç–æ —Ä–µ–∞–≥–∏—Ä—É–µ—à—å. ‚Äî –ß–∞—Ä–ª—å–∑ –°–≤–∏–Ω–¥–æ–ª–ª",
    "–ï—Å–ª–∏ —Ç–µ–±–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ç–≤–æ—è –∂–∏–∑–Ω—å ‚Äî –∏–∑–º–µ–Ω–∏ –µ—ë. –¢—ã –Ω–µ –¥–µ—Ä–µ–≤–æ. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–°—Ç—Ä–∞—Ö ‚Äî —ç—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä. –ï—Å–ª–∏ –±–æ–∏—à—å—Å—è ‚Äî –∑–Ω–∞—á–∏—Ç, —ç—Ç–æ –≤–∞–∂–Ω–æ. ‚Äî –¢–æ–Ω–∏ –†–æ–±–±–∏–Ω—Å",
    "–õ—É—á—à–µ–µ –≤—Ä–µ–º—è –ø–æ—Å–∞–¥–∏—Ç—å –¥–µ—Ä–µ–≤–æ –±—ã–ª–æ 20 –ª–µ—Ç –Ω–∞–∑–∞–¥. –°–ª–µ–¥—É—é—â–∏–π –ª—É—á—à–∏–π –º–æ–º–µ–Ω—Ç ‚Äî —Å–µ–π—á–∞—Å. ‚Äî –ö–∏—Ç–∞–π—Å–∫–∞—è –ø–æ—Å–ª–æ–≤–∏—Ü–∞",
    "–¢—ã –Ω–µ –º–æ–∂–µ—à—å –≤—ã—Ä–∞—Å—Ç–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∑–∞ –¥–µ–Ω—å, –Ω–æ –º–æ–∂–µ—à—å –ø–æ—Å–∞–¥–∏—Ç—å —Å–µ–º—è —Å–µ–≥–æ–¥–Ω—è. ‚Äî –î–∂–µ–π–º—Å –ö–ª–∏—Ä",
    "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å. ‚Äî –†–æ–±–µ—Ä—Ç –ö–æ–ª–ª—å–µ—Ä",
    "–ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π –≤ —Å–µ–±—è. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–æ—á–Ω–æ –æ–∫—É–ø–∏—Ç—Å—è. ‚Äî –£–æ—Ä—Ä–µ–Ω –ë–∞—Ñ—Ñ–µ—Ç",
    "–ï—Å–ª–∏ –Ω–µ —Ç—ã, —Ç–æ –∫—Ç–æ? –ï—Å–ª–∏ –Ω–µ —Å–µ–π—á–∞—Å, —Ç–æ –∫–æ–≥–¥–∞? ‚Äî –•–∏–ª–ª–µ–ª—å –°—Ç–∞—Ä—à–∏–π",
    "–ú–µ—á—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø–æ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—à—å —Ç—ã. ‚Äî –°—Ç–∏–≤–µ–Ω –ö–æ–≤–∏",
    "–ù–µ –∂–¥–∏ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞. –í–æ–∑—å–º–∏ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏ —Å–¥–µ–ª–∞–π –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω—ã–º.",
    "–ú—ã ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. ‚Äî –ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å",
    "–°–Ω–∞—á–∞–ª–∞ —Ç—ã —Ñ–æ—Ä–º–∏—Ä—É–µ—à—å –ø—Ä–∏–≤—ã—á–∫–∏, –ø–æ—Ç–æ–º –ø—Ä–∏–≤—ã—á–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Ç–µ–±—è. ‚Äî –î–∂–æ–Ω –î—Ä–∞–π–¥–µ–Ω",
    "–ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ–≥—Ä–æ–º–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º. ‚Äî –†–æ–±–∏–Ω –®–∞—Ä–º–∞",
    "–°—Ç—Ä–∞—Ö —É–±–∏–≤–∞–µ—Ç –º–µ—á—Ç—ã –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –Ω–µ—É–¥–∞—á–∏. ‚Äî –≠—Ä–∏–∫ –¢–æ–º–∞—Å",
    "–î–µ–ª–∞–π —Ç–æ, —á—Ç–æ –±–æ–∏—à—å—Å—è –¥–µ–ª–∞—Ç—å, –∏ —Å—Ç—Ä–∞—Ö —É–º—Ä–µ—Ç. ‚Äî –†–∞–ª—å—Ñ –£–æ–ª–¥–æ –≠–º–µ—Ä—Å–æ–Ω",
    "–ï—Å–ª–∏ –Ω–µ –ø–æ–ø—Ä–æ–±—É–µ—à—å ‚Äî —É–∂–µ –ø—Ä–æ–∏–≥—Ä–∞–ª.",
    "–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞—á–∞—Ç—å.",
    "–ù–∏–∫—Ç–æ –Ω–µ –ø—Ä–∏–¥–µ—Ç —Å–ø–∞—Å–∞—Ç—å —Ç–µ–±—è. –¢—ã —Å–∞–º —Å–µ–±–µ –≥–µ—Ä–æ–π.",
    "–°–∏–ª–∞ –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞—Ç—å, –∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑.",
    "–ù–µ –∏—â–∏ —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏ ‚Äî —Å–æ–∑–¥–∞–≤–∞–π –µ–≥–æ. ‚Äî –ñ–∞–Ω-–ü–æ–ª—å –°–∞—Ä—Ç—Ä",
    "–ñ–∏–≤–∏ —Ç–∞–∫, —á—Ç–æ–±—ã —Ç–≤–æ—è –±–∏–æ–≥—Ä–∞—Ñ–∏—è —Å—Ç–æ–∏–ª–∞ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ—ë –ø—Ä–æ—á–∏—Ç–∞—Ç—å. ‚Äî –î–∂–∏–º –†–æ–Ω",
    "–¢—ã —Ä–æ–∂–¥–µ–Ω –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å —Å–µ—Ä—ã–º, –æ–±—ã—á–Ω—ã–º, –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–º. –¢—ã —Ä–æ–∂–¥–µ–Ω, —á—Ç–æ–±—ã —Å–∏—è—Ç—å."
);

// --- –ß–µ–∫–ª–∏—Å—Ç—ã –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ ---
const WEEKLY_CHECKLIST = [
    {
        title: "–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö ‚Äî –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –≤–ª–∏—è–Ω–∏—è (~60 –º–∏–Ω)",
        tasks: [
            "–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ/–ª–µ–∫—Ü–∏—é –æ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è—Ö (30 –º–∏–Ω)",
            "–ü–æ–¥—É–º–∞—Ç—å: –≥–¥–µ —è —Å —ç—Ç–∏–º —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è? (10 –º–∏–Ω)",
            "–ó–∞–ø–∏—Å–∞—Ç—å: –≤ —á—ë–º —è —É–º–µ—é –≤–ª–∏—è—Ç—å? (10 –º–∏–Ω)",
            "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏–ª–∏ –¥—ã—Ö–∞–Ω–∏–µ (–ø–æ –∂–µ–ª–∞–Ω–∏—é, 5 –º–∏–Ω)",
        ]
    },
    {
        title: "–í–¢–û–†–ù–ò–ö ‚Äî –§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ (~60‚Äì75 –º–∏–Ω)",
        tasks: [
            "–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ / —á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é –ø—Ä–æ –º—ã—à–ª–µ–Ω–∏–µ –±–æ–≥–∞—Ç—Å—Ç–≤–∞ (30 –º–∏–Ω)",
            "–û—Ç–≤–µ—Ç–∏—Ç—å –ø–∏—Å—å–º–µ–Ω–Ω–æ: –∫–∞–∫ –±—ã —è –ø–æ—Ç—Ä–∞—Ç–∏–ª 10.000‚ÇΩ? (15 –º–∏–Ω)",
            "–ü–æ–¥—É–º–∞—Ç—å: —á—Ç–æ —è –¥–µ–ª–∞—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –¥–µ–Ω—å–≥–∞–º–∏? (5 –º–∏–Ω)",
            "–ß–µ–∫-–∏–Ω: –∫–∞–∫ —è —Å–µ–±—è —á—É–≤—Å—Ç–≤—É—é —Å–µ–π—á–∞—Å? (5 –º–∏–Ω)",
        ]
    },
    {
        title: "–°–†–ï–î–ê ‚Äî –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ —Ä–µ—á—å (~60 –º–∏–Ω)",
        tasks: [
            "–°–º–æ—Ç—Ä–µ—Ç—å TED / –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å —Ö–∞—Ä–∏–∑–º–æ–π (20 –º–∏–Ω)",
            "–ó–∞–ø–∏—Å–∞—Ç—å —Å–µ–±—è: –∫–∞–∫ –ø—Ä–æ—à–ª–∏ 3 –¥–Ω—è (2 –º–∏–Ω)",
            "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å: —á—Ç–æ –∑–≤—É—á–∞–ª–æ —É–≤–µ—Ä–µ–Ω–Ω–æ? (10 –º–∏–Ω)",
            "–í—ã—É—á–∏—Ç—å 5 —Å–∏–ª—å–Ω—ã—Ö —Å–ª–æ–≤",
            "–ü—Ä–æ–≥–æ–≤–æ—Ä–∏—Ç—å: ¬´–ß—Ç–æ —è –¥—É–º–∞—é –æ —Å–µ–±–µ¬ª (5 –º–∏–Ω)",
        ]
    },
    {
        title: "–ß–ï–¢–í–ï–†–ì ‚Äî –ö–æ–¥–∏–Ω–≥ / –ª–æ–≥–∏–∫–∞ (~60‚Äì75 –º–∏–Ω)",
        tasks: [
            "–ü—Ä–æ–π—Ç–∏ –º–∏–Ω–∏-—É—Ä–æ–∫ –ø–æ Python / –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É –∫–æ–¥–∏–Ω–≥—É (30 –º–∏–Ω)",
            "–ó–∞–ø–∏—Å–∞—Ç—å, —á—Ç–æ –ø–æ–Ω—è–ª (10 –º–∏–Ω)",
            "–ü–æ–¥—É–º–∞—Ç—å: —á—Ç–æ –±—ã —Ö–æ—Ç–µ–ª —Å–æ–∑–¥–∞—Ç—å? (10 –º–∏–Ω)",
            "–ü—Ä–æ–≥—É–ª–∫–∞ –∏–ª–∏ —á–∞–π (–æ—Ç–¥—ã—Ö)",
        ]
    },
    {
        title: "–ü–Ø–¢–ù–ò–¶–ê ‚Äî –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑ (~60 –º–∏–Ω)",
        tasks: [
            "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –ø–æ–¥ —ç–º–±–∏–µ–Ω—Ç / —Ç–∏—Ö–∞—è –º—É–∑—ã–∫–∞ (10 –º–∏–Ω)",
            "–ù–∞–ø–∏—Å–∞—Ç—å: ‚Äî —á—Ç–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª? ‚Äî –≥–¥–µ –±—ã–ª —á–µ—Å—Ç–µ–Ω —Å —Å–æ–±–æ–π? ‚Äî –≥–¥–µ –æ—Å—É–¥–∏–ª —Å–µ–±—è ‚Äî –∏ –∑–∞—á–µ–º?",
            "–ü—Ä–æ–≥—É–ª–∫–∞ –∏–ª–∏ –æ—Ç–¥—ã—Ö –≤ —Ç–∏—à–∏–Ω–µ (15 –º–∏–Ω)",
            "–ú—É–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ª–µ—á–∏—Ç (15 –º–∏–Ω)",
        ]
    },
    {
        title: "–°–£–ë–ë–û–¢–ê ‚Äî –≠—Å—Ç–µ—Ç–∏–∫–∞ –∏ –≤–∫—É—Å (~60‚Äì75 –º–∏–Ω)",
        tasks: [
            "–°–º–æ—Ç—Ä–µ—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ –≤–∏–¥–µ–æ / –º–æ–Ω—Ç–∞–∂ / –¥–∏–∑–∞–π–Ω (15 –º–∏–Ω)",
            "–ü–æ–¥—É–º–∞—Ç—å: —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å? (10 –º–∏–Ω)",
            "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å 3 –∏–¥–µ–∏ (–≤ Telegram/–ø–∞–ø–∫—É)",
            "–ü—Ä–∏–¥—É–º–∞—Ç—å 1 –∏–¥–µ—é –¥–ª—è TikTok/–∫–∞–Ω–∞–ª–∞",
            "–ü–∏—Å–∞—Ç—å –∫–∞–∫ —Ö–æ—á–µ—Ç—Å—è (—Ä—É—á–∫–æ–π / –≤ –∑–∞–º–µ—Ç–∫–∞—Ö)",
        ]
    },
    {
        title: "–í–û–°–ö–†–ï–°–ï–ù–¨–ï ‚Äî –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (~60 –º–∏–Ω)",
        tasks: [
            "–ù–∞–ø–∏—Å–∞—Ç—å: ‚Äî —á—Ç–æ —è –ø–æ–Ω—è–ª –æ —Å–µ–±–µ –∑–∞ –Ω–µ–¥–µ–ª—é? ‚Äî —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ?",
            "–ü–∏—Å—å–º–æ —Å–µ–±–µ: ‚Äî ¬´–Ø –≥–æ—Ä–∂—É—Å—å‚Ä¶¬ª ‚Äî ¬´–Ø —Å—Ç–∞—Ä–∞—é—Å—å‚Ä¶¬ª ‚Äî ¬´–Ø –ø—Ä–æ—â–∞—é —Å–µ–±–µ‚Ä¶¬ª",
            "–û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω—ã / —Ä–µ—à–∏—Ç—å: ¬´–ó–∞–≤—Ç—Ä–∞ –Ω–∞—á–Ω—É —Å –ø—Ä–æ—Å—Ç–æ–≥–æ¬ª",
        ]
    }
];

const ALT_LINE = "üí° –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏ 1 –ø—Ä–æ—Å—Ç—É—é –≤–µ—â—å –∏–∑ —Å–ø–∏—Å–∫–∞ ‚Äî –¥–∞–∂–µ —ç—Ç–æ —É–∂–µ —à–∞–≥!";

// --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã ---
const adapter = new JSONFile('db.json');
const db = new Low(adapter);

async function initDB() {
    await db.read();
    if (!db.data) db.data = { users: {} };
    await db.write();
}

// --- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (ReplyKeyboard) ---
const mainMenu = Markup.keyboard([
    ['üìã –ß–µ–∫-–ª–∏—Å—Ç', 'üìà –ü—Ä–æ–≥—Ä–µ—Å—Å'],
    ['üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è', 'üî• –°–µ—Ä–∏—è'],
    ['‚ÑπÔ∏è –ü–æ–º–æ—â—å', '‚ôªÔ∏è –°–±—Ä–æ—Å–∏—Ç—å']
]).resize();

// --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ---
function getTodayKey() {
    return dayjs().format('YYYY-MM-DD');
}
function getWeekKey() {
    return dayjs().format('YYYY-[W]WW');
}
function getWeekdayIndex() {
    let idx = dayjs().day();
    return idx === 0 ? 6 : idx - 1;
}
function getChecklistText(idx) {
    const day = WEEKLY_CHECKLIST[idx];
    let text = `‚úÖ ${day.title}\n`;
    day.tasks.forEach((t, i) => text += `‚Ä¢ ${t}\n`);
    text += ALT_LINE;
    return text;
}
function getChecklistButtons(userId, idx) {
    const todayKey = getTodayKey();
    const user = db.data.users[userId] ||= {};
    user[todayKey] ||= { done: Array(WEEKLY_CHECKLIST[idx].tasks.length).fill(false) };
    return Markup.inlineKeyboard(
        WEEKLY_CHECKLIST[idx].tasks.map((t, i) => [
            Markup.button.callback(
                (user[todayKey].done[i] ? '‚úÖ' : '‚¨ú') + ' ' + (i + 1),
                `done_${i}`
            ),
            Markup.button.callback('üîÅ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å', `skip_${i}`)
        ])
    );
}
function getProgressText(userId) {
    const user = db.data.users[userId] || {};
    let week = {};
    Object.keys(user).forEach(date => {
        if (date.match(/^\d{4}-\d{2}-\d{2}$/)) {
            const w = dayjs(date).format('YYYY-[W]WW');
            week[w] ||= [];
            week[w].push(user[date]);
        }
    });
    const thisWeek = week[getWeekKey()] || [];
    let daysDone = 0, daysPartial = 0, totalTasks = 0, totalDone = 0;
    thisWeek.forEach(day => {
        const done = day.done.filter(Boolean).length;
        totalTasks += day.done.length;
        totalDone += done;
        if (done === day.done.length) daysDone++;
        else if (done > 0) daysPartial++;
    });
    let percent = totalTasks ? Math.round(totalDone / totalTasks * 100) : 0;
    return `üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ –Ω–µ–¥–µ–ª—é:\n–î–Ω–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é: ${daysDone}\n–î–Ω–µ–π —á–∞—Å—Ç–∏—á–Ω–æ: ${daysPartial}\n–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á: ${totalDone} –∏–∑ ${totalTasks} (${percent}%)`;
}
function getStreak(userId) {
    const user = db.data.users[userId] || {};
    const dates = Object.keys(user)
        .filter(date => date.match(/^\d{4}-\d{2}-\d{2}$/))
        .sort((a, b) => dayjs(b).diff(dayjs(a)));
    let streak = 0;
    let prev = null;
    for (const date of dates) {
        const done = user[date]?.done?.filter(Boolean).length || 0;
        const total = user[date]?.done?.length || 0;
        if (total === 0 || done / total < 0.8) break;
        if (prev && dayjs(prev).diff(dayjs(date), 'day') !== 1) break;
        streak++;
        prev = date;
    }
    return streak;
}

let quotesQueue = [];
function shuffleQuotes() {
    quotesQueue = MOTIVATION_QUOTES
        .map(q => ({ q, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .map(({ q }) => q);
}
function getNextQuote() {
    if (quotesQueue.length === 0) shuffleQuotes();
    return quotesQueue.pop();
}

// --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ ---
const bot = new Telegraf(BOT_TOKEN);

// --- –ö–æ–º–∞–Ω–¥—ã ---
bot.start(async ctx => {
    await initDB();
    await sendTodayChecklist(ctx, true);
});

// --- –û–±—Ä–∞–±–æ—Ç–∫–∞ ReplyKeyboard (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é) ---
bot.hears('üìã –ß–µ–∫-–ª–∏—Å—Ç', async ctx => {
    await sendTodayChecklist(ctx, false);
});
bot.hears('üìà –ü—Ä–æ–≥—Ä–µ—Å—Å', async ctx => {
    const text = getProgressText(ctx.from.id);
    await ctx.reply(text, mainMenu);
});
bot.hears('üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è', async ctx => {
    const quote = getNextQuote();
    await ctx.reply(`üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è:\n${quote}`, mainMenu);
});
bot.hears('‚ÑπÔ∏è –ü–æ–º–æ—â—å', async ctx => {
    await ctx.replyWithHTML(
`‚ÑπÔ∏è <b>–ü–æ–º–æ—â—å –ø–æ –±–æ—Ç—É</b>

–≠—Ç–æ—Ç –±–æ—Ç ‚Äî –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏—è.

<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b>
üìã –ß–µ–∫-–ª–∏—Å—Ç ‚Äî –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è  
üìà –ü—Ä–æ–≥—Ä–µ—Å—Å ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é  
üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è ‚Äî —Å–ª—É—á–∞–π–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞  
‚ôªÔ∏è –°–±—Ä–æ—Å–∏—Ç—å ‚Äî —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å  
‚ÑπÔ∏è –ü–æ–º–æ—â—å ‚Äî —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ

<b>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</b>
‚Ä¢ –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 8:00 –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —á–µ–∫-–ª–∏—Å—Ç.
‚Ä¢ –û—Ç–º–µ—á–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –∫–Ω–æ–ø–∫–∞–º–∏ <b>‚úÖ</b> (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ) –∏–ª–∏ <b>üîÅ</b> (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å).
‚Ä¢ –ë–æ—Ç —Å—á–∏—Ç–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤–µ–¥—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –Ω–µ–¥–µ–ª—è–º.
‚Ä¢ –ö–∞–∂–¥—ã–π —á–∞—Å ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∞ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ ‚Äî –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π –æ—Ç—á—ë—Ç.

<b>–ú–æ—Ç–∏–≤–∞—Ü–∏—è:</b>
üí° –î–∞–∂–µ –æ–¥–∏–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç ‚Äî —É–∂–µ —à–∞–≥ –∫ —Ä–∞–∑–≤–∏—Ç–∏—é!

üî• <b>–°–µ—Ä–∏—è</b> ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ —á–µ–∫-–ª–∏—Å—Ç –Ω–∞ 80% –∏ –±–æ–ª—å—à–µ. –ï—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –º–µ–Ω—å—à–µ 80% ‚Äî —Å–µ—Ä–∏—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è.

–£–¥–∞—á–∏!`,
        mainMenu
    );
});
bot.hears('‚ôªÔ∏è –°–±—Ä–æ—Å–∏—Ç—å', async ctx => {
    await ctx.reply(
        '–í—ã —Ç–æ—á–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å?',
        Markup.inlineKeyboard([
            [Markup.button.callback('‚úÖ –î–∞', 'reset_yes'), Markup.button.callback('‚ùå –ù–µ—Ç', 'reset_no')]
        ])
    );
});
bot.hears('üî• –°–µ—Ä–∏—è', async ctx => {
    await initDB();
    const streak = getStreak(ctx.from.id);
    if (streak > 1) {
        await ctx.reply(`üî• –í–∞—à–∞ —Å–µ—Ä–∏—è: ${streak} –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —á–µ–∫-–ª–∏—Å—Ç–∞ –Ω–∞ 80% –∏ –±–æ–ª–µ–µ!`, mainMenu);
    } else if (streak === 1) {
        await ctx.reply('üî• –°–µ—Ä–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–∞—Å—å! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–µ–∫-–ª–∏—Å—Ç –Ω–∞ 80% –∏ –±–æ–ª–µ–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.', mainMenu);
    } else {
        await ctx.reply('–°–µ—Ä–∏—è –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–∞—Å—å. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ —á–µ–∫-–ª–∏—Å—Ç –¥–≤–∞ –¥–Ω—è –ø–æ–¥—Ä—è–¥ –Ω–∞ 80% –∏ –±–æ–ª—å—à–µ!', mainMenu);
    }
});

// --- –ò–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–±—Ä–æ—Å–∞ ---
bot.action('reset_yes', async ctx => {
    db.data.users[ctx.from.id] = {};
    await db.write();
    await ctx.editMessageText('–ü—Ä–æ–≥—Ä–µ—Å—Å —É–¥–∞–ª—ë–Ω! üëç');
    await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', mainMenu);
    await ctx.answerCbQuery();
});
bot.action('reset_no', async ctx => {
    await ctx.editMessageText('–û—Ç–º–µ–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.');
    await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', mainMenu);
    await ctx.answerCbQuery();
});

// --- –ò–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏ —á–µ–∫-–ª–∏—Å—Ç–∞ ---
bot.on('callback_query', async ctx => {
    if (!ctx.callbackQuery.data.startsWith('done_') && !ctx.callbackQuery.data.startsWith('skip_')) return;
    await initDB();
    const userId = ctx.from.id;
    const todayKey = getTodayKey();
    const idx = getWeekdayIndex();
    const user = db.data.users[userId] ||= {};
    user[todayKey] ||= { done: Array(WEEKLY_CHECKLIST[idx].tasks.length).fill(false) };

    const data = ctx.callbackQuery.data;
    if (data.startsWith('done_')) {
        const num = parseInt(data.split('_')[1]);
        user[todayKey].done[num] = true;
        await db.write();
        await ctx.answerCbQuery('–û—Ç–º–µ—á–µ–Ω–æ!');
        try {
            await ctx.editMessageReplyMarkup(getChecklistButtons(userId, idx).reply_markup);
        } catch (e) {
            if (!e.message.includes('message is not modified')) throw e;
        }
        await ctx.reply(getChecklistStatus(userId, idx));
    } else if (data.startsWith('skip_')) {
        await ctx.answerCbQuery('–ü—Ä–æ–ø—É—â–µ–Ω–æ!');
        try {
            await ctx.editMessageReplyMarkup(getChecklistButtons(userId, idx).reply_markup);
        } catch (e) {
            if (!e.message.includes('message is not modified')) throw e;
        }
    }
});

// --- –°—Ç–∞—Ç—É—Å —á–µ–∫–ª–∏—Å—Ç–∞ ---
function getChecklistStatus(userId, idx) {
    const todayKey = getTodayKey();
    const user = db.data.users[userId] ||= {};
    user[todayKey] ||= { done: Array(WEEKLY_CHECKLIST[idx].tasks.length).fill(false) };
    const done = user[todayKey].done.filter(Boolean).length;
    const total = WEEKLY_CHECKLIST[idx].tasks.length;
    const percent = Math.round(done / total * 100);
    return `–í—ã–ø–æ–ª–Ω–µ–Ω–æ: ${done} –∏–∑ ${total} (${percent}%)`;
}

// --- –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ–∫–ª–∏—Å—Ç–∞ ---
async function sendTodayChecklist(ctx, showMenu = true) {
    const idx = getWeekdayIndex();
    const text = getChecklistText(idx);
    await ctx.reply(text, getChecklistButtons(ctx.from.id, idx));
    await ctx.reply(getChecklistStatus(ctx.from.id, idx));
    if (showMenu) await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', mainMenu);
}

// --- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —á–µ–∫–ª–∏—Å—Ç–∞ ---
schedule.scheduleJob('0 8 * * *', async () => {
    await initDB();
    const users = Object.keys(db.data.users);
    for (const userId of users) {
        const idx = getWeekdayIndex();
        const text = getChecklistText(idx);
        await bot.telegram.sendMessage(userId, text, getChecklistButtons(userId, idx));
        await bot.telegram.sendMessage(userId, getChecklistStatus(userId, idx));
        await bot.telegram.sendMessage(userId, '–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', mainMenu);
    }
});

// --- –ü–æ—á–∞—Å–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è ---
schedule.scheduleJob('0 9-23,0-1 * * *', async () => {
    await initDB();
    const users = Object.keys(db.data.users);
    const reminders = [
        "üïê –£–∂–µ —á–∞—Å –ø—Ä–æ—à—ë–ª! –°–¥–µ–ª–∞–π —Ö–æ—Ç—è –±—ã 1 —à–∞–≥ –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞!",
        "üîî –ú–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ ‚Äî —Ç–æ–∂–µ –¥–≤–∏–∂–µ–Ω–∏–µ. –í—ã–ø–æ–ª–Ω–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∑–∞–¥–∞–Ω–∏–µ.",
        "‚è≥ –ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ —Å–≤–æ–π —á–µ–∫–ª–∏—Å—Ç ‚Äî –¥–∞–∂–µ 1 –ø—É–Ω–∫—Ç –≤–∞–∂–µ–Ω!",
        "üí™ –¢—ã –º–æ–∂–µ—à—å –±–æ–ª—å—à–µ, —á–µ–º –¥—É–º–∞–µ—à—å. –°–¥–µ–ª–∞–π —à–∞–≥ —Å–µ–π—á–∞—Å!"
    ];
    for (const userId of users) {
        await bot.telegram.sendMessage(userId, reminders[Math.floor(Math.random() * reminders.length)]);
    }
});

// --- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç ---
schedule.scheduleJob('0 22 * * 0', async () => {
    await initDB();
    const users = Object.keys(db.data.users);
    for (const userId of users) {
        const text = getProgressText(userId);
        const quote = getNextQuote(); // –∏–ª–∏ getRandomQuote(), –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—á–µ—Ä–µ–¥—å
        await bot.telegram.sendMessage(userId, `üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–Ω—è:\n${quote}`);
    }
});

bot.launch();
console.log('–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!');

process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));